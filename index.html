<!doctype html>
<html lang="en" ng-app="music">
	<head>
		<title>Musicians!</title>
		<link rel="stylesheet" type="text/css" href="stylesheet.css">
	</head>
    <body>
        <div class="header"><img src="header.jpeg"></div>
        <div class="content">
        <div ng-controller="ArtistController" class="artist">
            <form novalidate>
                <p>Press 'All' for a complete list of the musicians in our database.</p>
                <div class="artist">
                    <h2>Artist</h2>
                    <p>Enter the information for an artist and press Add to add them to the artist database.</p>
                    <input type="text" ng-model="firstName" placeholder="First Name">
                    <input type="text" ng-model="lastName" placeholder="Last Name"><br>
    <!--
                    <p>Instrument</p>
                    <input type="checkbox" ng-model="guitar">Guitar<br>
                    <input type="checkbox" ng-model="bass">Bass<br>
                    <input type="checkbox" ng-model="drums">Drums<br>
                    <input type="checkbox" ng-model="Tambourine">Tambourine<br>
                    <input type="checkbox" ng-model="other">Other
    -->
                    <input type="text" ng-model="instrument" placeholder="Instrument">
                    <input type="text" ng-model="genre" placeholder="Genre">
                    <button class="button-add" ng-disabled="!(lastName.length && firstName.length)" ng-click="addArtist()">+</button>
                </div>
            </form>

            <button class="button-all" ng-click="showArtists = ! showArtists">all</button>
            <div class="results" ng-show="showArtists">
                <table>
                    <tr ng-repeat="m in artists">
                        <td>{{m.firstName}}</td>
                        <td>{{m.lastName}}</td>
                        <td>{{m.instrument}}</td>
                        <td>{{m.genre}}</td>
                       <td><button class="button-remove" ng-click="remove(m)">-</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="album">
            <h2>Album</h2>
            <input type="text" ng-model="album" placeholder="Album">
            <p>Release Date</p>
            <input type="month" ng-model="release_date">
            <form id        =  "uploadForm"
                 enctype   =  "multipart/form-data"
                 action    =  "/api/photo"
                 method    =  "post"
            >
            <input type="file" name="userPhoto" />
            <input type="submit" value="Upload Image" name="submit">
                <div class="pic"></div>
            </form>

            <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
              <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.51/jquery.form.min.js"></script>
              <script>
                  $(document).ready(function() {

                     $('#uploadForm').submit(function() {

                        $(this).ajaxSubmit({

                            success: function(response) {
                                    $(response).appendTo('.pic');
                                      console.log(response);
                            }
                    });

                    return false;
                    });    
                });
              </script>
        </div>

        <div class="song">
            <h2>Song</h2>
            <input type="text" ng-model="song_name" placeholder="Name of song">
            <input type="text" ng-model="album" placeholder="Album">
        </div>

        <div class="event">
            <h2>Events</h2>
            <input type="date" ng-model="event_date"> 
            <input type="textbox" ng-model="description">
        </div>
    </body>
</html>